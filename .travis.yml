before_install:
- export GOPATH=$HOME/gopath
- export PATH=$PATH:$GOPATH/bin
- export JAVA_OPTS=-Xmx2g
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc
  -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc
  -out $GPG_DIR/secring.gpg -d
install:
- go get github.com/nats-io/gnatsd
- sudo apt-get update
- sudo apt-get install -y gnupg
- sudo apt-get install -y gnupg2
language: java
jdk:
- oraclejdk7
cache:
  directories:
  - "$HOME/.m2"
after_success:
- mvn jacoco:report coveralls:jacoco
- if [[ "$TRAVIS_PULL_REQUEST" = "false" ]]; then mvn -X deploy --settings settings.xml
  -DperformRelease=true -DskipTests=true; else echo 'Pull request, skipping deploy.';
  fi
notifications:
  email:
  - larry@apcera.com
env:
  global:
  - GPG_DIR=${TRAVIS_BUILD_DIR}/keyrings
  - secure: G9aX112DzYRm0U+fWlbXagxVaWDPU5lsUFl91ReV30XS2aAO5t5lVSI/vTcWtfIlgsVTMf21A8i3f4dGF6NyPHrD8ZY+WsDisJjUrD1J11dzr6wQ4XIsNw9oG8ROAsNqS4olz8AF/pOxM3Ay1zcNNW2hbCheK/2qLEuE7RJwkv6Sg+Dz+xM218NDGcQMjfcoVaSDj3qpRl3sxw/wfVgUYUwfZzLzpSYCaesDtkiiumwsIxyzBS+5xyCcnFlT+UrRpzHBi3GUNHRO60vXsYV30fzaHfzicsqrB67Ir8xu4/JqgPeW2eixV1BVfZNa+KXOzK/lk2hdM30y/Glgn6+Gb7HKILeXE2pwnqLbeWZ/Wj/QCPAPbrRNhol2AL4kbZx27KUVT05e/56KikHWmE3WApLj3Agt7IQDS/msnl72m8GtTuvU0JJ7FCDfMlxbbdy7wvBxvN1wfcwAIgEVevpq09DnJbtKRsFC76Gk5GUdVCrSSlOqKPNGJ/17OCwMbmUGMziRe+QsS8Uf6MH5CzbrB5MQgowig/AxIfK+7umbzhl2PbSVC69g0KPxTqUz6VRfYu6eoFl7LcGDtDIUPbob/l4CtcUwb/rDZQYbUwKMfx0xeUyXHFAA5kum2o2fLqoURJ4yYDQD2oq+O6F8f0ZWmrgm1PK0eylwxyAXgjcERRU=
  - secure: b+PegKhLwjdUwOm0C6BSpi7uJ65E/Y6wq/taVjvu10waJAXj2eNyU/wjtLuxXWTHI1bc3NrgpTVXL1qbtg6CFyFTiJEIUWL5XnCSzFgkp0+JUdPIzBg4so600Ynwl269uTMULw4yZEV6cB760+FpgYi2FFNzpzd1Rpu3g9DwWk02nNZQ6eKU8CwSLh02NVEiOYE9eFMgzV/eIqpRLZqGiM7gUbBArfxgEtM9+quxeuzxVGYkc/X1N+c6przlT9XzjP3FTVX206JxOfUsBT029IM4KRTtl8vo9HDUZWz4PP+rDKBkBhuXtOgXBZchiuFR7j4Q1A0FkXccfACRQ8gk06mdprnKoDP5ZNbIzaM2yBYW7ZlhgMNAhValAJTp4uto58OaSXtSNKrwaYF4cPLm07WwcHmq5IVxYCX1xcmlQWrCisKwOIUxrjSgq9lqtzmvDocyj5xPnEmBIvJkTHqyW80aSy+8i2+/Vp1hUjnoMXGeZ9be1j9wOAPkEAF2pXYESiykyNWREFRCP95z533HyetZvS24G6WA5tTvEOKCAzsxHl7LWil0J3lzGlR/7FlyQJtUVwCXiWXdWDhjaH5t2jNresdaYwI3iJoQtIJoxpx8ofLoQUh9iiaJrGkwIHZ1U3GKCkz6jujiJxQiabUBwJ5i+mIOSidaCOfJPlhFCyw=
  - secure: CpW0naPY3i1tnGVBslRBQH3KICCTi2FTFYD1/LTukw8CE5ITzng/XgwLoPKQKDKUAb3HYI7oybhDMIHKV962mvZWl8kaKwPu/PgP/sXH9nzT19O5xz3PvDX83YimloxN0sx/5S39mrTKf7XXFDdtEZukm0oQ3Mh2hW/UXhwjSigp11/kJPmmfMozdtOXu4+q579GRhwyHLLkGYyxHpOkF+jLQliyNFrQpLmvtS7UfIt8AaQvzxwSVwqHaXtJNyumzOIKldLtfPvy86obYFN7mk4z+eIyTF2P3WvNxJHHzx2+hjTaRQIQ7YrW+uWVtQaEKd5X3+leVIUUvoO/s6GlWX/9PhHsjQ5olAjzzx/adzj3Up5O2xH4W1RCXyedFKZPTvvEoI+HhLlPr0VEDOM2BPt2E5p5/xlcPQ6aKmIm4qIEVMU8eA1jDTexShGV5bn+tAPYUNGchb4NXsTceEAG5LOCJwNWXy0TL2N1WQN92LOaNIalvX5AdEmwipz2IzKtSGo9mz6GkXXyE3gvQSfQhyBHfiOd95Ug82i4FjtmSIxDRxrPkzu06nCOjc1GeJYoA+C2/Ft+4DXrQQGrKhXZe/SkJbGph6Z4YVRgMhL3izsZSAmyLrTPMw014/q5OxvuqIzk+5R+5wuAHSAIGTqWUJhRB8ExMFzbeZk2yp64fxs=
  - secure: v9oPIPgAsI9l6IDc/+33QQbrzCD3wUpzFJF/0PcVO9R2aguQSAQ9TWht5K6gE7SLLMYZc96nKjT04e1mQ+fecWFy5Q8Bv/9BPPsfarqgxhVigaAmGiIrslfqr87vbvNTCV7SAVg/ayy5rLJEdDdebQVHwOWWSkk/kp7Xb3q/EpCtAcCBdJYh9YuIf6LG6WYFINMzhhVpbdR9EbDD+Bi33F1QxOJX28C90PxGJDnlRVPg747s4VWKeWJQmjkH/2F+3FGTbyNNTNpbDxxzyopQ5LRn0/EXA009dFpQoOPgMuMtAm4d981lD4T1Oh/3PRiTwoVRKIAzxlA5fVfer+1yMdyDCKH/QEVAaoY3En1sq+pQ110Y2b63mBgnP6nHWncretBdGW5AsBjbQEC1B/ch1Zd4AXBiec9ZswFamF3wRhiwsViEwUlgCRT+2KNkLRf5+itG6UeI492UqQeJGm2JHUkHYkDeigQXTbJ4aUUdorjo5KaiTYOWGsAJAi1GX2EBrVLfAvzU5Lg0Q7KLP4gcpnRfZQtyUB4mYkVAJlWvYtah34qOrY9nzTyEdHq8FR5s6JLQ5PxKSMxZK53T8i2G0NpiNIxw971L2CJ7SSD3fZcq0qMWRNKyqmHIIiCB/JEMG1a/F8o9h6TFGzbz+6i1dPzMkvJZgDrEhn8rAOlcJ18=
  - secure: ppTO+tTOhvVMsqGsAv7butlgx4YLoZyOylM4E1KXZknej2JxBKxdlt6VBEvqWuN2tdEnFMYCNpWkHsPYj//zbKkZECGiVPInxe75DcU4ss86sUUiM/t3zzN6XNjlEkU8F2AYM1M5m75W9ubU8DbZYPpfmB+5dvgzwA0XKqM212KXAJq/ifsHVj/6EJTqwqBXQneIM0XBG/kRrgIC+rNMu5myL+MqvsLTfDvQ/D/opNEEnvPlAA/aFCaczCcvUbIuCAUsZ1gndCaqfbdXpramVl3X76AyOYjlaYg1qtNaCgRUZHHfmCxt47dqGumuqy2YEfyeezpMedoJhqPH+SLxAU4V54Eqc7wbLE2Yw5Um/1+nRKRLUYqWOC5S+mvsxGtPHSRHqulo0kwP6EIf81OFbh7OYV5yrrn/P/Y/4JUHmEom139pM8CPF/Qboq6KoaOU/PJ7FDhhOTApvHZfDUbe7uBKFaIYC8o3Cn1uNJtvz6hw+OHcvfM7+rZLFRMSwk0Jv/KQOLzMRCA+UHutzkQWYUawlw8XA14iwAQY4W5JTizE4YD/eN019kqUPjz97XHC9MA9KyBVv/eQBGs5SLK62L0JdWxTtydLPTNpsK/Roy4zgodVBXXK984T4RxMHUBtwIpKJ4reWKIpNtv1mSF8KNXkR1E7vM5AdMkDKjTsQZQ=
