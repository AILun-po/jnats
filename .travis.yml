before_install:
- export GOPATH=$HOME/gopath
- export PATH=$PATH:$GOPATH/bin
- export JAVA_OPTS=-Xmx2g
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc
  -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc
  -out $GPG_DIR/secring.gpg -d
install:
- go get github.com/nats-io/gnatsd
- sudo apt-get update
- sudo apt-get install -y gnupg
- sudo apt-get install -y gnupg2
language: java
jdk:
- oraclejdk7
cache:
  directories:
  - "$HOME/.m2"
after_success:
- mvn jacoco:report coveralls:jacoco
- if [[ "$TRAVIS_PULL_REQUEST" = "false" ]]; then mvn -X deploy --settings settings.xml
  -DperformRelease=true -DskipTests=true; else echo 'Pull request, skipping deploy.';
  fi
notifications:
  email:
  - larry@apcera.com
env:
  global:
  - GPG_DIR=${TRAVIS_BUILD_DIR}/keyrings
  - secure: kyD7r83DQzPWUOj015+OHlYYrQDhBgFgpQDAOTzS83ShebU2rObO5d+/1bsisYVYwa2qmqyGjYCy+UE7Wze8ImF8BuHpd1Ff8AkAfGbYpTPdSIz5ismAmBULXZ1MGgy5qHGUGdG+eMJq2smi3vqyg7q4CN++wfsBJdvG9gV7UE6FF+UC+hJlu8zKkYgT+437Isi9ZDh2E6ghEhtZ9GoGSjZaOJ2lql2CEcv7ZCEJ+YyDvF9tqBjHwv4NVDF8eZjS2ptSPq/yCRaifx/u4NqiLXWc0IWPpalG2mvsI7WrnUdbuuRJlRxru5CorYM/tyZ65lF8CAK2Z+eFY5amdi+cYtDWPW5jXqNo+yR64b8W4xyh1dDWErJT98YrsaYKxdxyUI5lfQYwcMKJLvaOZEBVcyDbaDzBSJBpVqjmOJTllgyJAZaC/RD7c93mbwy+4qJjCWXdFa01B/1pe1+bP7+F6HgiLjyAT9Lil9XEpzSj+6A6rMDd8f+zAMNrCO+ym7+yWUPGK9tegw9u6HXgCYDKTgQeLc0NNq6kzWLAaGMayQ9p0LzYecvvAlD30u0IaLjQYiliBQrRvgRGcrwrBvQPePv4RF0HZGrcgY3w5yMEXUIK+vC1r73KdLcFQ4fiUVZvvBUcgJgsRS3y0y5z2tsaQy4pG4F9pC3jdbvWlKYA0Yk=
  - secure: uqEWdDuZE1Hncg5UO/Ja1SrwqPdPuOmiLlhhLW3qaTY9q/CkxohXaHjhSXRqn7fEUm7OXKXVpEwyQnK6elQcLiG+i4HSz1FM7j7DFiYRDEsFRXF0F1tF0LbgvEyW/tVPnPCnPJa6zD8Cnl8rRqHNUq6YHAzEUvI+DCO0mNgrD1zBxGVpfkPOY+TfLxXESepxHuDtZaGi8L6gReJ1QDTOjuw08quhMybFDLRC9sW5U9u6RTjgnpeBbjOHwwb3Xs3B1J7XbrqwELRm6VoASYrgBpKIspFL4YfSDjVGyx2ORq8ATL8Kj+xqR27so5dL/9kkg35io9Gy1jA4TFwgZLYk2H9XlSvAA9FwZxLfsrRfRUtUACqJQxk1J2DZbeZRFJdmcic/hbpp42um2k7fUwz+GYLl42wxUKxMl1nN3wX/a/mFvVRCdfbFjcVD+0pYAFq9wo9vN5HjVREE2IyaGq9GaHMg/hJp4CZyV2parB4+R9qOdNYR9P4wTAvyPgG5rdEL1uuntgU9vqtOYH+6Zs4NmfHoBld1Vt3DmS03nTtqB+TXqMXBosTpVmwI0jUozk+rN/GbclJoZ5U8WuTXiNsxhMVJqi1mIr36Wew5h2b+8FQNdNCYwtlcImrqLYCbsGAiFmfIJRtbX8oUTqRt6GDoPIPk4K1ixygieimeRjdPIWM=
  - secure: t1Qv/TNai0JcnSLeth/+jYKphEZrbC9I31h0/9CJFLLRmoWjZhF7uWJ22G/lZQr8bLtQxIh7GACwiGcgKvhKGc0npsFpj/r74nhoqdnDDq9/lS55pk6mzXi4Q7d2blLmxJMSAIo3Mbvc8ndXbXYqqSDy5vgc74IhSoaBkHx6+KPAesgiDkyMUXHlZgAgUUjJ+lWbJb38n9Lx5zrpJ6d0zEYlKXCK4DXARSPfmaSVuQfvWNjv4snzywFjSKw9UdJtbtKy9b17P5JTOvWbYmZYEMHl/NZSE02Z9jIM8TiubkfQBeqeai1Q8Fz/pQYumkvqolWukN1d2i/k2JPH4L4N26vS61VB+U9mxv0lXBH8lBWq2fVMchOc5fLFABk5JZPHuzgO/TJeF34iRHsiQxkyqUGLgLWtr2/mbp+WRRZfQfYTgq0OEsPp4+IwH/2YHo97zPPeHG+8UJGEnsi+s7ELelFwukpJ234PyUuKcqEn+AXjhhEuMfvaMs7T2UYEszCB6mJrgCIkPT49MqSs4VHs4Y59ezx7HH6C8LoFJzDVfZoSkThXyN8gWd5hSfhK3qyZA6qyS9Fvvr09TtQnbnJYwe/G28tVC5QTn7vIZaZHO4xFg+AFOORxMJHhpMhNHTtavYYarDd/a6M/5OpHsqF83fNGYsH6tQeVeNLAJNK5HH8=
  - secure: LMd0OAb4AcPXiZR8GKqqp43aWzYJ79DL4FllLnJ/t/kRDecVSVYUeU8i7WXk7oNi8oAfxpmE2/5J3DC9rW31170RyUCAxjPrP2vQgXLcK+EZ06tSlapbTRQntoJoksbhivzn+mh8LVNcBSZvmwaBc4yyr6gxUGnmc+ek05CoZi72UWf/Sxq7f7PAWrGgQW1FP9HC+04fCH+D/OVtd4emzfox+YzwCHIMlf9L5cKx1uDOvhdS+Aj34hprMb0DrnGp4LxtpwgO28O7LXOAg08kVtII4L+Ll5yvG2rVmABNSmg8GgINBezw42CzBDQD1QBKmsl6TQCqwwKKl6ySi33Xl+5bWEHNlqfrzs3B9Sla7YqiqSiVpB6xADCsMj/LP+SWwrP4HZbqEE3vasw1qQfZRpaWcgaZau29QVzCnRVtebukoqqbvB8NTA3iDBFiBk1mpn99uOc7hSDTKT4EZ9MBJ5INeeD/QxuJNBynZIZ0XP1yzXeJQp2fs69NEi22eu59B4TJTLZdoB/FVlig/09/+W+v5GYkRjnVeSN7hSnAnvuPhfFmvG1hEgxXbHQVY0OsZobbJ5StQoQvWVqKlv5UlGCvDv09/3Z05MRQGlRQOiiAdeN9jn3ZP22ibnSewz1IXZnrkTMQ6qaekkAO3PsJwHIJLAEbnxr+D7mHtMOvbHI=
  - secure: DPyUM9X86EIGaf4WnS1ahsZw+Id3Sl20hWZEA+UcEvdIuCKYsTvlE+ZGrhbDS+/QRU5HCm4cmOCeCBTknOBPkvBCvBe/21d6KG74E0QAQRafLfISx8XOQahgEtxxB7I4846P2xgHpP5N1cMj0rx8UYjTM5qXq54+LZoB8emJDytgEpScmLUlMNhDLYU8V4BgbJK+0sa3BHqTAlE4TGwJ9vVTCW47ij+QGyKUqHUuCRxHLRqUcOKU3boZtsag1s7wr3N3epuTTUaLJjlu32+bCsV/apSOcmbenngMvDW66B6I5RtAz6fhvhZY+HWVZz/fAM6lu8HMrJ/UsMyCN9DNlrsniZCF2F4AmBPHXDr8aG0rjcDF7YpdoXZvkKkSUT8yA9S3RIu0ZsSRhXi/MgxDRtiWWGahLsIgbRGMHNE0LiR+TNyoDWW2A8Umht3qJ56rYimxXIWjZePqCNcbgRaH+Yh4Yr4rcJ/JlglLH/y5hk2eex8p4zW4ZQmXJq9Ptk2lLao+0COCEV6grjd4CuMXYwotdGzR4Ra9ImCgMN3325jtvDMTFDc7DwXDY/GttUC3sBWyM547rfmcSzembR0yN6iRJdlXLAfdbfbQQ0KH/N10Iq//lZ4QPwv53edP0iYF2TiH5f3vurFkzO4aIqb2oANW/h2HAxFB7uwcGhoa4rI=
