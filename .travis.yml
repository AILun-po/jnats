before_install:
- export GOPATH=$HOME/gopath
- export PATH=$PATH:$GOPATH/bin
- export JAVA_OPTS=-Xmx2g
- export GPG_DIR=${TRAVIS_BUILD_DIR}/keyrings
install:
- go get github.com/nats-io/gnatsd
- sudo apt-get update
- sudo apt-get install -y gnupg2
- sudo apt-get install -y gnupg
language: java
jdk:
- oraclejdk7
cache:
  directories:
  - "$HOME/.m2"
after_success:
- mvn jacoco:report coveralls:jacoco
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc
  -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc
  -out $GPG_DIR/secring.gpg -d
- if [[ "$TRAVIS_PULL_REQUEST" = "false" ]]; then mvn deploy --settings settings.xml
  -DperformRelease=true -DskipTests=true; else echo 'Pull request, skipping deploy.';
  fi
notifications:
  email:
  - larry@apcera.com
env:
  global:
  - secure: p8f1Bc2JmuVkeMAr2utKueSoDzK3eV8Iuf9bRQC+obDF6pVP0zU9UxNdq017yJUcibTphqRyUTgVwM40OG99T1fXYdEsNq6/gqoq0EWUUb2AWeY4lTjK016AbNJkqTUCtxscEpPeuf7KpQSBz1+Zow4VZVlI5Pvvzb04SU9MPX/Q4BehtU2KY1JP1ce0ZlGwONh6ZBts5CH5ckajh1PBtbKH3IgY47yHjHkcbuWPVeQ0Ww6FM2EYRrGDLWju++xPaG6hZ6ZS2B2PTmVkolSoMyh6couBKz2wR4dfNU9VOicr4ti9oHrLW07EFayZnwderI9vsJRnkY3Wesga1Xs3VgJ5D0fap2l0he4iR6eFNEF5a2cFySK6rlwVmgKb2zySF50nnea9SHwMwQPubdIXqZfNSM89ieUwnJwKLkRPiMHPmYZN2qab29+u02ItC1urNV/A3yun7GVO2wu4xVUKdWQdwnKqpN+gN/0CGQSp0TWMv4i2GpBjz9f6N7zCJNCzNjjg32W2pYpwNiitT2mGvKozfzjsUC92t+thgde8HNUIXXtya0b/QWnGLHUTQNs0hyks0rpsLMnL8PrxcIxdF3az52zdIwqoNWO1XnQUdGE6qIyyUFwfuRA45b/99puKZEXdOjs+E3iVfFrgeYtXy/NiqQs5HDJ8j4MKcR9Caag=
  - secure: X7B+fVBEU0hSUWFtFphZYx/UPylr8+Ra72dPfDrFmE02S8ZuhHjwLZWv80Aa+ZjcCV5uV69J7eGizl6OxEu09cZKnu3gPrL91uynum3of7gKQLoZHgwaznLgkuyUmCgHhR3mo/U9V8xOlZ5P/wIl3mw6WnQKICSeDWhJRy8C3qkQdahdx/ZvJx/TKjIA10Yf/3EZMZJoPr5HIPjwbP+0Tln+or4W7Rem/mrNilAOvUaL8VP+448ZkCXn2yh6Zowhn0fgrtew7zvfIzN5c6r5gsXFxm+OM9acxSjpAjs70b6/3phV5opq64Bg/sxgTDFSq28CuY+r8IjiJZFsrYEkq8Vru8du68WHIjvJPG2Laocm0qAAH5OYHqaDIz7XaebyRsmbiwFB8ZY2uCIrljHGVbz84WDhC15tTREslOW7EUbSEps006XYAIvjmjxtns4hyn3yfS6RlwCOnYsDD1kURi7Cp6kkz9EpVXIHk318abnLqvHpbUBf1lpdbcdhNVe9wK4ca+ckdbcUDugWMMGKCUajiimqyo4h9qO1wtNmWCT0VTICNcHGqcVFWnnyOrS0WABekzOHCPROYs0//fGc9vjUwxwYBQL9HdvztafvN0r8NiyjCCIUBSdc2uDXCOwhlvUlCGrP297QpgxNEUuRcXFjC3KIdrUlENLm0rPlzz4=
  - secure: Ur+9IhTM+kZP20oFShn8yJ09kDeKTX5n9DRU6OBRfBBLJCeO5yQsrDFtSEJ4Rq/AzXUqPkzg/aSGF9mTawHDVtAmowXRzl5fZOUMlueCnCHYb3XcrOalnSXJA4hvRc3GliNHeiOmnJpxJEujIbmWiIRkdioQCBo6adCwlUAuZQ3Nv4DaFeTKyuXLnxOGy9jzOxdLUCL8qlIuzTlJJ5/abLR6YlFAZ2GvRweLdksP76kr0fkegRDdSTjzy4/p3J4poHNnHQyGkiV9XLhLwqMNCT7OQJNDiDmVTtivyR79+5DWTq8lFm02vveLvCaiVWFLtupXRDk/vBUUjNKV/+da/j4QJjc0eqxFZcbUUOgd2cs1tW2NYK9KfIj2EUk44naLUELFn/aNCs07JKOFpdqGE1ZLFv70aOEvPZAZ/MSIv0oCqwptp9yO6dCH0EsEjCdAegFcMBTZF6L2Ib02w+ZaqoTY1poDzcxQGpiLtQbqQ7RwssP3rjrdYmpJsVorhVxHllB0VB+XNg0repSVlgSX4bjYl4ff+kOaoGkrAH+94KPlxngs6Kfz+mc9fpxEvGvDLoO+1Rw333lE2fnbK2MR6tOMrcl8mbJGQPyMPMzdiaJjmnqNSbpGfbvPCUIwMdbSwJBaZFyzryeiFJx7IgS3BEz496DMxclLvdI3mT5/DuY=
  - secure: am+XfE/JCuNahFPCPcGwfu1MCxKjJQYiRnElBVOvp0Hby+yXzsP5nj83rWZzqapL6xnk+E3JF6DWT2Y+cw3D3i0rAtZNnOVMIFGpQa+S6ELzUvlYe08ZSbho8oEHGgJmwlT9ICDmKuNLRImqPIrqw2foz2zlL/xd3J5OO/kTtVhPmH1nB307uxDEqAXzNdvaBpp0bLhb8rkxZDIXWi5ZG3Jr/qaEEabqsYhbC/2++V4Hk4HrSDcdwUkhMz8Q7Ra4ZMzqhjUOJuup7l3YEPfdtSl2dbcPJXFMqpLUt54matVuLZDcQJcj5mCvwgjAt0qUfZOQXzKWUX6oH3fr5KH/sw0R4ZRgh3VrnZLo2ZWsUrhc5ubz63OFx0El+m3QIpH3FCCojxJMUN7V9UeyKydCiRCGCtdYKNg40O5ahf9bYZ5xByKAowXpPkLBTG7P4UceW6zvHGsPt4a/tlJOxgBGd5+1LaQESfb8mS/UmrmZWQ96pXkkFxxo6+CJyLta5XbZ8hSEmCXtdyUnNVSjy9hcOTShcl9fbDKgE5Wu1vAS5K07rRQX7CCGpIqwqquKhDpG4a/d6oFghqn3Wvtozmbxb+xMRXKqe465OjUxyoi1BBbnkwcyxyHxeVAL/ju269QXjbWsglMIHXaEW/XpST3mLisgsShHO18LoNnBB8hgAVQ=
  - secure: nigOuC+XsLidYts+UArQcczUyMfkV7kwk3jwR0CBYPK+egsrXFL4pXit1OVNAAydDnml1rWwFoMHxk2KwOBXytdxk2SBK8+Oo/nPTmNfE6quvCXDXmDnj82qmoMPeURkKRmFH2HO7DoQ4mQToSG+GPCE4rAhY0s/7AQKpzn8S8tALJnUOLqw/urirxqKclv3XvEzF5fywbiWbEbsPZprEeoVnpTLsLjvSua2+taajp+v5N8o2RoNnlOyrg61+y/NClePe4wwZzKQA/7aqfrHKN/Na0DU8btHv1tz+n1ReG2USapMMbOKgxuj4b+4mmEZdoVf34YaPHVEFvCkMapMHx7sbuVpPPLYbfDxxm0GFcAp65BNMOKNEqztAeg5mLvhW1pWnlyOuFmmRBOYTlkLUesisNeLjWymRAA83YbehlVBdUxzs9ZfzKXfSevjDe3990Og28v0toH50FIzqbHpgMeA42p24q8BwcTXgaG1CK1HhMyUtVJz4ykjVbME0zCBlGdHosxm5XnjuO4ey5UH74xJhX9+A03fbM/VsV2PDREnEvS8JuswEPklRj84aLcEDHHMJnC+/N7MksIdMNuO0nEOWhfwEwpPjUB9ae5wWf3ngOuxdfIHY8JMO1ZemyIOPDH1YUJ1+jZAwbJHtSgf2PxVVTcpw4VawMNj/DzMtzU=
