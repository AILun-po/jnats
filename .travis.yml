before_install:
- export GOPATH=$HOME/gopath
- export PATH=$PATH:$GOPATH/bin
- export JAVA_OPTS=-Xmx2g
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc
  -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc
  -out $GPG_DIR/secring.gpg -d
install:
- go get github.com/nats-io/gnatsd
- sudo apt-get update
- sudo apt-get install -y gnupg
- sudo apt-get install -y gnupg2
language: java
jdk:
- oraclejdk7
cache:
  directories:
  - "$HOME/.m2"
after_success:
- mvn jacoco:report coveralls:jacoco
- if [[ "$TRAVIS_PULL_REQUEST" = "false" ]]; then mvn -X deploy --settings settings.xml
  -DperformRelease=true -DskipTests=true; else echo 'Pull request, skipping deploy.';
  fi
notifications:
  email:
  - larry@apcera.com
env:
  global:
  - GPG_DIR=${TRAVIS_BUILD_DIR}/keyrings
  - secure: K2o2ouJk/hmMGddHkI0JEebtfyuJGDfh8ma9LubMqDIwcbMO4mhF7JdX74NuCJzVb2fO6fFsXymiJp6ZHjXe1s+Yj7pSDCy4W46N8dMMkFMFE/v1AE4KYsp7fy+NE9hkKGvzuOC9n2nEcv2nxIGXmfdyES2M+5VqyJlHApzZF7u8qLU5YXUhn96vfEM2iz9TkEp/Lb2UYNurACboCTOZA8spKh+1HkKqZEZI6q/9Ayol1h3VMaMiJqq79mLcXX8xw1Rp5lFk3K/DHI83uXdzep2Na4TJj7mhloEPFCsrlT9tNgVfJGYhcQRXq2kZfIHUJVvNEYcyFptaX9IBrc+Z8fpP9a213Gg3DK1MW04X1WmnllUn0MhiVM3hPyZBkaaRX20lfLZsuWJbeCEZFnG4RlfZALQsbFghiYp7t0x7ILQuu3DH2T5hT79YaCxXjxtZLDOz+UbAKp0oS1BtrkHrRR4SDDZvqetrr/IAMiX3l5T3fJuu2eSvyJXDhx3WAlo8djrFJS6Rw44HkyplLpbHdZsbvdJlUXM36XkRiVbD4XeiPWPDtbZKOsrjuYcqRyAK+xbKL580mw2Maz95BJHdXGUxlX+KL9hrnadLQZ+tFmq+AyOLlLwVyXLDOnPrqz46V+yyaGecnLa02yU07RqxZSz272S/yrKxu7WCmwc3DY4=
  - secure: pYl0VfjKlpqx7FSxf75JPTL77yNlUGSbvfy3RlY29dqIEUdV9ysQhCIKimoHXzprkD5gnyVU1z+lvA/Nc8vfHgY+ofMmp6y+3hNQI8DD3GmipFRrryrD7Pbn86ut/cay3Bt9Ln/l/C/QvzwWoipoH2I5Oy16RxyXW1a1cesorD9bTR4DYfO4a4XSnwVjm5ueAbnHcguCNyQpPL+/KX0mrxYVD0uBCWExev0Lpags+S3if9CR3DWQjNpYczmWkLsnugU24gBpPrd64ZoWMNJmVUwffkfnDTxvbWTNkHCjicG3p/2J/ab6+0pY6VPa3Z0qi7v6SMAvfupwWvvON4OWmszmgmJI7RhVCckNjMsg1OXm8E81deCLLhRAbiZ/EUH8d3ouGw4Fo+99+IgRb2JMku8StIrnVg+uPlEBllw2NFJGIKJpMLeehaQYx5TrlB4OFAg62icT517p7VwsaUCCLPofxHN+ixZ1dh9ggA988UEnDvz0EIBp06cO1lb39z/5cYKsaX54ufuC6FsMhN+YdugFmE/zCyIdawOniE+feB6wihs6TwvD37fmJxCB/nfiCRveCo9BzFEqnIlnHz81Mz+kI3u4x9zs+NMNLJEMT8SXCuPRwgcqrWpX3TQfH00dHtSgqMt4HHDXGHVtjHE2u1LKCRvBxFY/EaxOQ0yZ0AQ=
  - secure: OxWrNQNftlot13yIyOMw4yVSzC8nekSapFb8XhTX5zhEvFkKsoW2Kg9y0r5KCwwiVg/Gz0OCNBbVVC0rfn5vigP4lHX2iLy67YL8vm3hdSZjWK9K65t4MKCxcXjHrdP1w/9cFufZVzWe5zSZyUp2ME9w1WbFXHvLfjvDj5/+ZvMMMo7eVWvZgfKXqv1CS2EClyyQBv4pgxZcxlLmIogIXD2U1+uFhQcqcBsM80P7ngMOgIgLpHxjiHNyJDjh+Y/4y+oCuWwEMqZbqg7+2teuCWsLnbaVOExrukLUe3nn/LxSw8z307g/iJr+DhQpMzat9GmyLbTUrFfIL00bJR0twmEUIpwCftbYoHBqWrloSiwGKM76KTOg8+aYkdXPyr1HIGLWqASitpzOXNTbCv3sUe8GrYCzKou8WDFXcFTl/nO7zChgqfbv1wQOoul7GuQQAbV26hdpMZAkH+SNHUFAs9/Oa7OyF3kDxfepjlqOE/dCI9G5DTZmi73TxG5p0VOHbl2epvO4viuK2jQ7kot6+W94Y2MITuzt8ulDeR5+vnd5b532MzfhpRaFtPhhIVyTdQoaUsMdQcAr1WommNFiTQ3W3YeJZPaYbgvutfiLoWAUQtRHxhalhkQ20LH3mbcpEZkGKYbjBpuCf6D6c9epqed0UdgiG1H8rDi37hn2Vog=
  - secure: GpWQsEkM1Tr9zobKoq8Cf6HYAHP5/Xw+N2YIAMbTiOktbUkmBagtxzosm8X4/H+DQWrjX2Us0LMOe4MN22tVFxwGhy6J9/QzPplIzxi2VT5lAryjxJ1ZJQj2mOUi0SrXRqCCqtm2V/oTw58PbkRNSFifgrdQ3UHaMKIpEJ0GMlFe0uWwVpu52K1+g5RG2xkpZhtjjQ9hDccuav8ZvL96onX0JiSpJbzNU45vLuncrgNQywn6gynwTUWRMw+PbHOWbwQYK19cbcz5wdA22JgLhyn7rlGRU1UnFC7lBA4lhmccsurSu/q33Nexh4ac1h9hkmPLI2y4wVyA4KSf37shHtV+vImYb3IHq+WBC9ox/JanoccYNAMHESpVPOlC/3SlMifcO+w3fKoY4DTfljfoEA58LsXfkpD1mlZ8y4odnBxkqSMbO2jY/SfkAcj8ac7TOC5Fobsl6x6BIaxHNfts7+igLgZHZFv+IVPTr8HdZO9NYQzA1wneJrWHH8F2hb5eVI/ZuUETmnv+8M/sq6PkEYcxfokZlVKMlgVRPEsMHKlRFcICYOTPi4LOana7bL6YUhBeldh3jc0ZV1mz4y6HrCyZyMoXRKj/C594eufWYc9sBBKE5hI5JeGAm4KfwpFmkG0UjU1EqfITRujg68kt6SKTJxm0txjNfwoK9jYgo4E=
  - secure: MvhPFa7F7n+4UjslepgvXrsvJV+HVFi1jGtg4FqN/Nyy3sol3F2CtccSnoDNY4lchg2ESZnLLYEGvafX6VpM7w43bfXSETsLaOKGzBcdkXzI3ckzjo2tq6WuAnoSlVqr4k2XKjpjCL6EBwb8Uup8EVOSmOQ13XOzgodtngG2GtgpwyWEcZcicwoUSyzlFWHshmNXuDaRKgUdir7D1Cc7oBhbbzwduAELRL5LL8PUqQ/avvERWNoGcMBha8KkAgkwnwkukjuadAdVcpoU8ygE9vdwrUGBQHqKoDIsBmGrrmfHHEJInDUMRkdX7K7A2oUWJ+H5hEpJ0cySCj7vxyvqdBMgR6/fnCRxyR0FEmOQhbh3fYCLPKi5xXGbJUDaLT7Q9E0ePi8R1lvMKvZSlbzwVl+PMd0x0fg0PDqLHCx7ezrb8usbEwOQaSZtxTSypMg+lvJcmEkm4G1qw6y5O5d+/nSOwdKD/XcTzjmqJoUKdhwa1ROp+bK6J+ivlrvP+PWFv9V30l8WaSFGPXxOiwd9QLj6IGbQvS/saUkp1KMvIiqhMVp9d51y4u5CcNvt5SZFeNn3LpzOWzJ9Y8ijqIyLL7WSREyNrad5BGlRUXyyMiKzM21cqb2wa1ZfyOBAKKZROaCn8mFFPUAvtZOfxte/bEa34QD7EyBXfAduZPQC/kY=
