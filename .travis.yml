before_install:
- export GOPATH=$HOME/gopath
- export PATH=$PATH:$GOPATH/bin
- export JAVA_OPTS=-Xmx2g
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc
  -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc
  -out $GPG_DIR/secring.gpg -d
install:
- go get github.com/nats-io/gnatsd
- sudo apt-get update
- sudo apt-get install -y gnupg
- sudo apt-get install -y gnupg2
language: java
jdk:
- oraclejdk7
cache:
  directories:
  - "$HOME/.m2"
after_success:
- mvn jacoco:report coveralls:jacoco
- if [[ "$TRAVIS_PULL_REQUEST" = "false" ]]; then mvn -X deploy --settings settings.xml
  -DperformRelease=true -DskipTests=true; else echo 'Pull request, skipping deploy.';
  fi
notifications:
  email:
  - larry@apcera.com
env:
  global:
  - GPG_DIR=${TRAVIS_BUILD_DIR}/keyrings
  - secure: hNiQf+0ZOpiMH0rLhnCXRflCEqzM2DZu5JatAkp7zb1Dhmf0vCOn0J92yvKrlIndPf3hw1Psbw8zrF2Ant5/vuAJiuiAYgIe2mo+14FdDeo0iUh/tr5eCN9Qv/7949Q34EVrRX8vJrJVlyeeaUahoMhh0lZRRMsSNxiVOrveTkroSEJGCTFmxeea8fhvDrvz2HGAyinPop4rbKjYqgeojoRuc7qbIMwLR2VvxqQpJPnEzwu6aKxVqXxe1PUlzcsTisdQIkk0Q+19rmlpPdSloMynSJKxMA95td4N10DJVIorz76RqiYOG/piWESf9CmWVq10XGNtcxLbpShbs0Mv+NMqKtkuX97CJbKt89m1xhkUhZ9yF+jmmryeMnih4Xg5U5nJEFAjzJ+M4vGSsc1b2M5l+tujx+SGHUXBtUBRqRkq6/AlYkSW5xdIXly7B7UAkbOh1X+pFXbMN8C+MH89BN+NvMmhjv/+vb6+eyBMQfpHXGKBpF/zIYdRiNiBDCjv65oqjp5RYPpKk62bJwoyGGJz2UTTHtwdE+/ojxR9EAQh9uzBD4lFecblDetj/R9YXDZRQrsvWTLnuDg3U3A4yhxOrj/PKUZVuaxG3XYTYaPDQKgLrvZN0tVttNbegGjC1OCjvT9NIq5cuSXlLx15j8ZFjiCbc5edrVoebyr0MJA=
  - secure: OmuM9KSyAhQ4ag4I3+fPJX2G60CCbo6nGI9iIeYPcJoi37afWyC+qq4OHSr9dE+LHccE1wpXoiKlqdZUAyBSiAfGmWdgIs89D7SljzUkIr8Oaw3Xx9NmVmWHXm4TiGBQI4+fGUcuSBShl3XvBjmZj6gQvBXLnkcFv0uqsliUQH3hA1icjiVKNnwK6orxK1JiPhLppzBLuJAkV1HCbEttu0UgU4I9fNZHQr96QqnZckIz9TU3MFoFOl0HkFobbMBBhb5zgxaqzdByVOVKZs+NwcD44kez6D1cftgQVSYvpox1EIKLqoFSkAOHYSxfGLaaFqfEZWiBJ86jnj6KKbkxujGM9IjDjEFs+cCl7Buil+MU7RCfjNNh9uQX05fICFQuuAPfJcBa700cVLRukZ6zfEFA3oOtaCO0tNiyFGT4ojvLLNLmtNAgSGhHRikWo5qcw3FqGD0KLAzhz/b2pQ8ZA+TPSwcgxFU5ydcXwETY77NwN9z1E8Ul1wNeGNNFiULcEj6Q8TYQUo7Zq9152wOhxC1uEVMekSHTX0qGfq0NEdETctrz6twH4UkzzjjVvUp7NBrb9fGg2Qq94aCMnr6cYopmjbJX9wabDcGZw+ZxwKaR9CTHZs1pC09YGJNS4mcbmVu/o2ZVilIAbO06WwUnTO5Dw3Wyzb5nJtK/PUUzwGM=
  - secure: pA06CNJ0HXr5hGRcDqi6EJpdY7cA6ajaIdoTzUSckXKclm5uZs+cn+1CVVZF2GW8IZqaMlInBGNZTwKFA1og0ST1uxHwfh9vo2thCjUHXEMyYQyJLQwf0CmHK4pnuuYYLIeVze4pnd2vdXS+vA0AA/vXEvNpWtek9o8oJ2HCfi6Mb4Dn17tXyPFX1YAxCQaGST7IhgtQ2wvYUOhkhOBI+OCyHqCskbX+spCPP33BOJyopFAioy5bppa/Tlg4FxNiqA6yHnsl6yiNWOVNw2/4QYrfdB+0UOT1ZqAdMpPFlKAmjIbbwUBeQfighRm8DNjaTqz/L48CdY/8sdSi50kagbKSMh4VFHipx/rQj0bxH0lGljVO7dkR+/4daXhR0wptgBt7ihPnOME5RWjX1EYBShtfn1bNOPfiyTjhi6/PTXKlsx1MpDeeqZTs1P8nnIgVXcrQUytPh2CuUm7KMgUnkAtjI6qnpi+wHXTc41OTMTsjKfNJ9AhNLGBX6wFX/cZ3gFeub+UazYTewUAYpptixiwplKbMBWgsu5ywpy8TJEuorTUiPDtaOLdRy17OsbpXSNf2a9FaX52s4zMwFmJxj5qEGSCsTvsfxS/UJrk+/21kUHxIk05ekY9eOkMFose8S/CRbP44GoCeG5Af+gyGICXK5yDWvJo4ERsF/41P45I=
  - secure: CbwnlnRoSybKBz8/vTBRwAGjzVxcf9xmLKHcOaGC6/+gCxVp2F5264hkcNo8qRcMpQH4a1cIGxWoyIE4KV1EkRiyT5Z9ocWXEIN9A05NIlTQfximT0pK1T0BkK7yqgzPfDRavHSfpjF4e2C3UuE+UGu9RCG+Ir0+SrDCTmPuLmTUY2pVzVA6hzBaEHH/9+eEuKn/we9TfXl7ipJAaD3JIcQ/JLhRTRgnH4RfxB3yaoTN1QnDYm26KgnCKdw91+OAT6L2n4PJfxTkVvLcx4sUFZfPNa09ddWe4v+Z4ecXB5MCXr/CNUM8weQGbmDsKG/inyQ1bwss9pv7e/fbBUd67nckE4i/BuuAezb1tybuP3ip/byVW6LRKolXPiT3dwllqM5GWrWysCA/f+GwE48Tl11rDScklS0i2pX1fNb9j8aC4kxeTrry/Z9qikOv8EELl3UUETcMq7nc1cqB7WA7zv5t2lt1vv5HSuhDmU3jxqxjqzscmEdQZ6PVteVRcvrCuMxYacJ6MJpaJWvnbAOo0m0so6rERfE+vJZYo/uZKj+vs7rOMrsgwjhkiptTNe9iWJVHWHiWPvr4fzn460ngGML0xYuO+UMx9rmipq7gcGFdpJ9VhExkv4fse4xWAEsAo/UE/jg/s2V6Lr/hkOyWgNhaLbDUSPb0nOSmigZZ2H0=
  - secure: A/bxcf6SOMvw7XbCadhnGvgGjnSpzodXudwcU254C5HemQ54OUnK0s74wxwZ3L/DaMX93sL8Fs5GCej8kHF9yLVfNgSCn3gBTI3+u47UeQEdkZUl2u2PKvI2p/5DaaKRQydTdH5DwEGFTM3GF8GR9pHMy3KiqNvYBCzFX+3wFGDQH3jj7PDqb3Orlr0SIpEG6vykM0MDhRZDkfiUiI+FAdbHInt0U1Ik4Pt31/fDUXhReyLi5YvhH8keLu9fPESOrqwENebimvGdOfOax+s0Mbgh+cP16yTTqYZCEBd7nawBtVRqUukA2ggayt8CZ/omKTepe0W2RgpbQUBRq5pLDMjPbDi29j0ICISCvQVOo0V8V7i12+N1NIq7+/aexBW7zEbGs6jY1THKHpK+tpFP7uiJNxOgpKZ0EMi0zVvOI6k2k+vs4PrSseasd8/lvzX+ZP9gH7H7ZiMaVOE5tRGyIfTaDn1qjqYuyFi5KF97J9h80o8qHOaZF6roR+vgxftT8pHGzgJ1ynEpG9ZqpE3lj5Q9inGXHM0BA1JHX0A1HC6c5YC+85XTBjEMT/AE9jygV6rndBuyD2tV1loYW2H6gjlqEAy5S5K3vj2GnRKiiC5K2PlrJ+0P52YF7RTWbcyowwljHqTa/W2M2SbcKatMDrlCvUmQKzgrC8KszohoXpw=
